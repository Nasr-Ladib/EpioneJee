<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	 xmlns:b="http://bootsfaces.net/ui"
	template="/WEB-INF/template.xhtml"
	>
<ui:define name="content">
<script src="http://maps.google.com/maps/api/js?key=AIzaSyAjsIpyXFoB7_5_E2DgO_-CTDMHKM0cW4I&amp;libraries=places&amp;callback=activatePlacecsSearch" type="text/javascript"></script>

<main class="theia-exception">
		<div id="results">
			<div class="container">
				<div class="row">
					<div class="col-md-12">
						<div class="search_bar_list">
						<div class="row">
					<div class="col-md-6">
							<p:inputText type="text" style="margin-left:28px" class="form-control" placeholder="Ex. Specialist, Name, Doctor..."></p:inputText>
							</div>
							<div class="col-md-6">
							<p:inputText type="text" id="searchTextField" onkeyup="activatPlaces()" class="form-control" placeholder="Places..."></p:inputText>
							</div>
							<p:inputText type="submit" value="Search"></p:inputText>
							</div>
							<script>
	function activatPlaces() {
		var input = document.getElementById('searchTextField');
		var options = {
				  types: ['(cities)'],
				  componentRestrictions: {country: 'fr'}
				};
		var autocomplete = new google.maps.places.Autocomplete(input,options);
}
					</script>
						</div>
					</div>
				</div>
				<!-- /row -->
			</div>
			<!-- /container -->
		</div>
		<!-- /results -->

		<div class="filters_listing">
			<div class="container">
				<ul class="clearfix">
					<li>
						<h6>Type</h6>
						<div class="switch-field">
							<label for="all">All</label>
							<label for="doctors">Doctors</label>
							<label for="clinics">Clinics</label>
						</div>
					</li>
					<li>
						<h6>Layout</h6>
						<div class="layout_view">
							<a href="grid-list.html"><i class="icon-th"></i></a>
							<a href="#0" class="active"><i class="icon-th-list"></i></a>
							<a href="list-map.html"><i class="icon-map-1"></i></a>
						</div>
					</li>
					<li>
						<h6>Sort by</h6>
						<select name="orderby" class="selectbox">
						<option value="Closest">Closest</option>
						<option value="Best rated">Best rated</option>
						<option value="Men">Men</option>
						<option value="Women">Women</option>
						</select>
					</li>
				</ul>
			</div>
			<!-- /container -->
		</div>
		<!-- /filters -->
		
		<div class="container margin_60_35">
			<div class="row">
				<div class="col-lg-7">
        <ui:repeat value="#{doctolibBean.listDoctors('','','')}" var="item">

					<div class="strip_list wow fadeIn">
						<a href="#0" class="wish_bt"></a>
						<figure>
							<a href="doctor.jsf"><img src="#{item.img}" alt=""/></a>
						</figure>
						<small><h:outputText value="#{item.speciality}"/></small>
						<h3><h:outputText value="#{item.name}" /></h3>
						<p><h:outputText value="#{item.presentationProfession.substring(0,79)} ..."  rendered="#{ item.presentationProfession.length() gt 80 }"/></p>
						<span class="rating"><i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star voted"></i><i class="icon_star"></i><i class="icon_star"></i> <small>(145)</small></span>
						<a href="badges.html" data-toggle="tooltip" data-placement="top" data-original-title="Badge Level" class="badge_list_1"><img src="img/badges/badge_1.svg" width="15" height="15" alt=""/></a>
						<ul>
							<li><a href="#0" onclick="onHtmlClick('Doctors', 0)" class="btn_listing">View on Map</a></li>
							<li><a href="https://www.google.com/maps/dir//Assistance+–+Hôpitaux+De+Paris,+3+Avenue+Victoria,+75004+Paris,+Francia/@48.8606548,2.3348734,14z/data=!4m15!1m6!3m5!1s0x0:0xa6a9af76b1e2d899!2sAssistance+–+Hôpitaux+De+Paris!8m2!3d48.8568376!4d2.3504305!4m7!1m0!1m5!1m1!1s0x47e67031f8c20147:0xa6a9af76b1e2d899!2m2!1d2.3504327!2d48.8568361" target="_blank">Directions</a></li>
							<li><a href="doctor.jsf">Book now</a></li>
						</ul>
					</div>
				

				        </ui:repeat>   
				
					<nav aria-label="" class="add_top_20">
						<ul class="pagination pagination-sm">
							<li class="page-item disabled">
								<a class="page-link" href="#" tabindex="-1">Previous</a>
							</li>
							<li class="page-item active"><a class="page-link" href="#">1</a></li>
							<li class="page-item"><a class="page-link" href="#">2</a></li>
							<li class="page-item"><a class="page-link" href="#">3</a></li>
							<li class="page-item">
								<a class="page-link" href="#">Next</a>
							</li>
						</ul>
					</nav>
					<!-- /pagination -->
				</div>
				<!-- /col -->
				
				<aside class="col-lg-5" id="sidebar">
					
       <p:gmap center="46.8306226,0.241841" zoom="5" type="ROADMAP" style="width:520px;height:550px" model="#{doctolibBean.markers('','','')}" />
       		
			<script >
			google.maps.event.addListener(marker, 'click', function(marker,i) {
				 return function() {
				  openNav();
				  //changeText();
				  // set the infowindow content for this marker (the function has closure on i)
				  infowindow.setContent(info[i][1]+"");
				  // open the infowindow on this marker (the function has closure on marker)
				  infowindow.open(map, marker);
				}}(marker,i));
			</script>		         
			
            </aside>
				<!-- /aside -->
				
			</div>
			<!-- /row -->
		</div>
		<!-- /container -->
	</main>	
	<!-- /main -->

	</ui:define>
	</ui:composition>